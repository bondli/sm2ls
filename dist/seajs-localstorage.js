!function(){function a(a,b){var c=localStorage.getItem("seajsmodule<"+a+">");if(c&&c.length>0)return!1;try{return b=b.toString(),localStorage.setItem("seajsmodule<"+a+">",encodeURI("data:text/javascript;charset=utf-8,define("+b+");")),!0}catch(d){localStorage.clear()}}function b(a){if("undefined"!=typeof window.enableSM2LS&&(m=window.enableSM2LS),m){var b=localStorage.getItem("seajsmodule<"+a+">");return b&&b.length>0?b:a}return a}function c(a){if(r){var b=a.replace(p,s);localStorage.removeItem("seajsmodule<"+b+">")}}function d(){return localStorage.getItem("seajspage<"+o+">")||""}function e(a){"undefined"!=typeof window.enableSM2LS&&(m=window.enableSM2LS),m&&localStorage.setItem("seajspage<"+o+">",a)}function f(a){if(!q){var c=a.match(/\d\.\d\.\d/);c&&c.length&&(p=c[0],s&&s!=p&&(r=!0)),r&&e(p)}return q=!0,b(a)}var g=["m.tao","miaostreet.com"],h=["waptest.tao","daily.tao"],i=window.location.hostname,j=!1;for(var k in g)~i.indexOf(g[k])&&(j=!0);var l=!1;for(var k in h)~i.indexOf(h[k])&&(l=!0);var m=j,n=window.location.href,o=n;n.indexOf("?")>-1&&(o=n.substring(0,n.indexOf("?")));var p,q=!1,r=!1,s=d();if(s||(r=!0),"localStorage"in window&&"slice"in[]){var t=seajs.request;seajs.request=function(a,b,c){if(!/\.css(?:\?|$)/i.test(a)){var d=f(a);d&&d.length>0&&(a=d),(l||!j&&0==window.enableSM2LS)&&(a+="?t="+(new Date).getTime())}return t.apply(this,Array.prototype.slice.call(arguments))};var u=seajs.Module.prototype.exec;seajs.Module.prototype.exec=function(){return"undefined"!=typeof window.enableSM2LS&&(m=window.enableSM2LS),m&&this.uri&&this.factory&&!/\.css(?:\?|$)/i.test(this.uri)&&(c(this.uri),a(this.uri,this.factory.toString())),u.apply(this,Array.prototype.slice.call(arguments))}}}();