!function(){function a(a,b){var c=localStorage.getItem("seajsmodule<"+a+">");if(c&&c.length>0)return!1;try{return b=b.toString(),localStorage.setItem("seajsmodule<"+a+">",encodeURI("data:text/javascript;charset=utf-8,define("+b+");")),!0}catch(d){localStorage.clear()}}function b(a){if("undefined"!=typeof window.enableSM2LS&&(i=window.enableSM2LS),i){var b=localStorage.getItem("seajsmodule<"+a+">");return b&&b.length>0?b:a}return a}function c(a){if(n){var b=a.replace(l,o);localStorage.removeItem("seajsmodule<"+b+">")}}function d(){return localStorage.getItem("seajspage<"+k+">")||""}function e(a){"undefined"!=typeof window.enableSM2LS&&(i=window.enableSM2LS),i&&localStorage.setItem("seajspage<"+k+">",a)}function f(a){if(!m){var c=a.match(/\d\.\d\.\d/);c&&c.length&&(l=c[0],o&&o!=l&&(n=!0)),n&&e(l)}return m=!0,b(a)}var g=~window.location.hostname.indexOf("h5.m.")?!0:!1,h=~window.location.hostname.indexOf("waptest.tao")?!0:!1,i=g,j=window.location.href,k=j;j.indexOf("?")>-1&&(k=j.substring(0,j.indexOf("?")));var l,m=!1,n=!1,o=d();if(o||(n=!0),"localStorage"in window&&"slice"in[]){var p=seajs.request;seajs.request=function(a,b,c){if(!/\.css(?:\?|$)/i.test(a)){var d=f(a);d&&d.length>0&&(a=d),(h||!g&&0==window.enableSM2LS)&&(a+="?t="+(new Date).getTime())}return p.apply(this,Array.prototype.slice.call(arguments))};var q=seajs.Module.prototype.exec;seajs.Module.prototype.exec=function(){return"undefined"!=typeof window.enableSM2LS&&(i=window.enableSM2LS),i&&this.uri&&this.factory&&!/\.css(?:\?|$)/i.test(this.uri)&&(c(this.uri),a(this.uri,this.factory.toString())),q.apply(this,Array.prototype.slice.call(arguments))}}}();